@startuml ClassDiagram

title Lesson Booking System - Class Diagram

class Organization {
  + string Name
  + addLocation(Location location)
}

class City {
  + int CityId <<PK>>
  + string Name
}

class Location {
  + int LocationId <<PK>>
  + string Name
  + string Address
  + addSchedule(Schedule schedule)
  + getAvailableOfferings()
}

class Schedule {
  + int ScheduleId <<PK>>
  + addTimeSlot(TimeSlot timeSlot)
}

class TimeSlot {
  + int TimeSlotId <<PK>>
  + DateTime StartTime
  + DateTime EndTime
  + DateTime StartDate
  + DateTime EndDate
}

abstract class Account {
  + int AccountId <<PK>>
  + string Name
  + string PhoneNumber
  + register()
  + login()
}

class Instructor {
  + string Specialization
  + registerAvailability()
  + viewOfferings()
  + takeOffering(Offering offering)
}

class Offering {
  + int OfferingId <<PK>>
  + string Mode  -- 'private' or 'group'
  + string LessonType
  + bool IsAvailable
  + assignInstructor(Instructor instructor)
  + markAsUnavailable()
}

class Client {
  + DateTime DateOfBirth
  + makeBooking(Offering offering)
  + viewBookings()
  + cancelBooking(Booking booking)
}

class Guardian {
  + handleBooking(Offering offering)
}

class Administrator {
  + string Name
  + createOffering(Offering offering)
  + deleteAccount(Account account)
  + viewAllRecords()
}


class Booking {
  + int BookingId <<PK>>
  + DateTime BookingDate
  + cancel()
}

Account <|-- Instructor
Account <|-- Client
Account <|-- Guardian

Organization "1" --> "*" Location : owns

Location "1" --> "1" Schedule : has

Schedule "1" --> "*" TimeSlot : includes

Location "1" --> "1" City : located\_in

Instructor "*" --> "*" City : available\_in

Instructor "*" --> "*" Offering : takes\_on

Offering "1" --> "0..1" Instructor : assigned\_to

Offering "1" --> "1" Location : occurs\_at

Offering "1" --> "1" TimeSlot : scheduled\_at

Client "1" --> "*" Booking : makes

Booking "1" --> "1" Offering : for

Client "0..1" --> "1" Guardian : has

Guardian "1" --> "*" Client : acts\_for

Administrator "1" --> "*" Offering : creates

Administrator "1" --> "*" Account : can\_delete

@enduml